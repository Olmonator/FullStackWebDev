{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\OlmoLecht\\\\Documents\\\\FullStackWebDev\\\\part9\\\\patientor\\\\src\\\\PatientListPage\\\\PatientListing.tsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { Icon } from \"semantic-ui-react\";\nimport { apiBaseUrl } from \"../constants\";\nimport { useStateValue } from \"../state\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst PatientListing = () => {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const [{\n    patient\n  }, dispatch] = useStateValue();\n\n  if (!patient || patient.id !== id) {\n    console.log('fetching patient data');\n    React.useEffect(() => {\n      const fetchPatient = async () => {\n        try {\n          const {\n            data: patientFromApi\n          } = await axios.get(`${apiBaseUrl}/patients/${id}`);\n          dispatch({\n            type: \"SET_PATIENT\",\n            payload: patientFromApi\n          });\n        } catch (e) {\n          console.error(e);\n        }\n      };\n\n      void fetchPatient();\n    }, [dispatch]);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Icon, {\n        loading: true,\n        name: \"spinner\",\n        size: \"massive\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [patient.name, patient.gender === 'male' ? /*#__PURE__*/_jsxDEV(Icon, {\n        name: \"mars\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 38\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"ssn: \", patient.ssn]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"occupation: \", patient.occupation]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n\n_s(PatientListing, \"0Resu/9tw6DGUqtUV19E3eYGefg=\", false, function () {\n  return [useParams, useStateValue];\n});\n\n_c = PatientListing;\nexport default PatientListing;\n\nvar _c;\n\n$RefreshReg$(_c, \"PatientListing\");","map":{"version":3,"sources":["C:/Users/OlmoLecht/Documents/FullStackWebDev/part9/patientor/src/PatientListPage/PatientListing.tsx"],"names":["axios","React","useParams","Icon","apiBaseUrl","useStateValue","PatientListing","id","patient","dispatch","console","log","useEffect","fetchPatient","data","patientFromApi","get","type","payload","e","error","name","gender","ssn","occupation"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,SAASC,IAAT,QAAqB,mBAArB;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,aAAT,QAA8B,UAA9B;;;AAGA,MAAMC,cAAc,GAAG,MAAmB;AAAA;;AACxC,QAAM;AAAEC,IAAAA;AAAF,MAASL,SAAS,EAAxB;AACA,QAAM,CAAC;AAAEM,IAAAA;AAAF,GAAD,EAAcC,QAAd,IAA0BJ,aAAa,EAA7C;;AAEA,MAAI,CAACG,OAAD,IAAYA,OAAO,CAACD,EAAR,KAAeA,EAA/B,EAAmC;AACjCG,IAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACAV,IAAAA,KAAK,CAACW,SAAN,CAAgB,MAAM;AACpB,YAAMC,YAAY,GAAG,YAAY;AAC/B,YAAI;AACF,gBAAM;AAAEC,YAAAA,IAAI,EAAEC;AAAR,cAA2B,MAAMf,KAAK,CAACgB,GAAN,CACpC,GAAEZ,UAAW,aAAYG,EAAG,EADQ,CAAvC;AAGAE,UAAAA,QAAQ,CAAC;AAAEQ,YAAAA,IAAI,EAAE,aAAR;AAAuBC,YAAAA,OAAO,EAAEH;AAAhC,WAAD,CAAR;AACD,SALD,CAKE,OAAOI,CAAP,EAAU;AACVT,UAAAA,OAAO,CAACU,KAAR,CAAcD,CAAd;AACD;AACF,OATD;;AAUA,WAAKN,YAAY,EAAjB;AACD,KAZD,EAYG,CAACJ,QAAD,CAZH;AAaA,wBACE;AAAA,6BACE,QAAC,IAAD;AAAM,QAAA,OAAO,MAAb;AAAc,QAAA,IAAI,EAAC,SAAnB;AAA6B,QAAA,IAAI,EAAC;AAAlC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF;AAKD;;AAID,sBACE;AAAA,4BACE;AAAA,iBACGD,OAAO,CAACa,IADX,EAGGb,OAAO,CAACc,MAAR,KAAmB,MAAnB,gBAA4B,QAAC,IAAD;AAAM,QAAA,IAAI,EAAC;AAAX;AAAA;AAAA;AAAA;AAAA,cAA5B,GAAmD,IAHtD;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAOE;AAAA,0BACQd,OAAO,CAACe,GADhB;AAAA;AAAA;AAAA;AAAA;AAAA,YAPF,eAUE;AAAA,iCACef,OAAO,CAACgB,UADvB;AAAA;AAAA;AAAA;AAAA;AAAA,YAVF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAgBD,CA5CD;;GAAMlB,c;UACWJ,S,EACiBG,a;;;KAF5BC,c;AA8CN,eAAeA,cAAf","sourcesContent":["import axios from \"axios\";\r\nimport React from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Icon } from \"semantic-ui-react\";\r\nimport { apiBaseUrl } from \"../constants\";\r\nimport { useStateValue } from \"../state\";\r\nimport { Patient } from \"../types\";\r\n\r\nconst PatientListing = (): JSX.Element => {\r\n  const { id } = useParams<{ id: string }>();\r\n  const [{ patient }, dispatch] = useStateValue();\r\n\r\n  if (!patient || patient.id !== id) {\r\n    console.log('fetching patient data');\r\n    React.useEffect(() => {\r\n      const fetchPatient = async () => {\r\n        try {\r\n          const { data: patientFromApi } = await axios.get<Patient>(\r\n            `${apiBaseUrl}/patients/${id}`\r\n          );\r\n          dispatch({ type: \"SET_PATIENT\", payload: patientFromApi });\r\n        } catch (e) {\r\n          console.error(e);\r\n        }\r\n      };\r\n      void fetchPatient();\r\n    }, [dispatch]); \r\n    return (\r\n      <div>\r\n        <Icon loading name='spinner' size='massive'/>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  \r\n\r\n  return (\r\n    <div>\r\n      <h2>\r\n        {patient.name} \r\n        \r\n        {patient.gender === 'male' ? <Icon name='mars' /> : null}\r\n      </h2>\r\n      \r\n      <p>\r\n        ssn: {patient.ssn}\r\n      </p>\r\n      <p>\r\n        occupation: {patient.occupation}\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PatientListing;"]},"metadata":{},"sourceType":"module"}