{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\OlmoLecht\\\\Documents\\\\FullStackWebDev\\\\part9\\\\patientor\\\\src\\\\PatientListPage\\\\PatientListing.tsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { Icon } from \"semantic-ui-react\";\nimport { apiBaseUrl } from \"../constants\";\nimport { setPatient, useStateValue } from \"../state\";\nimport EntryDetails from \"../components/EntryDetails\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst [modalOpen, setModalOpen] = React.useState(false);\nconst [error, setError] = React.useState();\n\nconst openModal = () => setModalOpen(true);\n\nconst closeModal = () => {\n  setModalOpen(false);\n  setError(undefined);\n};\n\nconst PatientListing = () => {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const [{\n    patient\n  }, dispatch] = useStateValue();\n\n  if (!patient || patient.id !== id) {\n    console.log('fetching patient data');\n    React.useEffect(() => {\n      const fetchPatient = async () => {\n        try {\n          const {\n            data: patientFromApi\n          } = await axios.get(`${apiBaseUrl}/patients/${id}`);\n          dispatch(setPatient(patientFromApi));\n        } catch (e) {\n          console.error(e);\n        }\n      };\n\n      void fetchPatient();\n    }, [dispatch]);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Icon, {\n        loading: true,\n        name: \"spinner\",\n        size: \"big\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [patient.name, patient.gender === 'male' ? /*#__PURE__*/_jsxDEV(Icon, {\n        name: \"mars\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 38\n      }, this) : null, patient.gender === 'female' ? /*#__PURE__*/_jsxDEV(Icon, {\n        name: \"venus\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 40\n      }, this) : null, patient.gender === 'other' ? /*#__PURE__*/_jsxDEV(Icon, {\n        name: \"transgender alternate\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 39\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"ssn: \", patient.ssn]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"occupation: \", patient.occupation]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), patient.entries.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"entries\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this), patient.entries.map(entry => /*#__PURE__*/_jsxDEV(EntryDetails, {\n        entry: entry\n      }, entry.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 15\n      }, this))]\n    }, void 0, true) : null, /*#__PURE__*/_jsxDEV(AddPatientModal, {\n      modalOpen: modalOpen,\n      onSubmit: submitNewPatient,\n      error: error,\n      onClose: closeModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: () => openModal(),\n      children: \"Add New Patient\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n\n_s(PatientListing, \"0Resu/9tw6DGUqtUV19E3eYGefg=\", false, function () {\n  return [useParams, useStateValue];\n});\n\n_c = PatientListing;\nexport default PatientListing;\n\nvar _c;\n\n$RefreshReg$(_c, \"PatientListing\");","map":{"version":3,"sources":["C:/Users/OlmoLecht/Documents/FullStackWebDev/part9/patientor/src/PatientListPage/PatientListing.tsx"],"names":["axios","React","useParams","Icon","apiBaseUrl","setPatient","useStateValue","EntryDetails","modalOpen","setModalOpen","useState","error","setError","openModal","closeModal","undefined","PatientListing","id","patient","dispatch","console","log","useEffect","fetchPatient","data","patientFromApi","get","e","name","gender","ssn","occupation","entries","length","map","entry","submitNewPatient"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport React from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Icon } from \"semantic-ui-react\";\r\nimport { apiBaseUrl } from \"../constants\";\r\nimport { setPatient, useStateValue } from \"../state\";\r\nimport { Patient } from \"../types\";\r\nimport EntryDetails from \"../components/EntryDetails\";\r\n\r\nconst [modalOpen, setModalOpen] = React.useState<boolean>(false);\r\nconst [error, setError] = React.useState<string | undefined>();\r\n\r\nconst openModal = (): void => setModalOpen(true);\r\n\r\nconst closeModal = (): void => {\r\n  setModalOpen(false);\r\n  setError(undefined);\r\n};\r\n\r\nconst PatientListing = (): JSX.Element => {\r\n  const { id } = useParams<{ id: string }>();\r\n  const [{ patient }, dispatch] = useStateValue();\r\n\r\n  if (!patient || patient.id !== id) {\r\n    console.log('fetching patient data');\r\n    React.useEffect(() => {\r\n      const fetchPatient = async () => {\r\n        try {\r\n          const { data: patientFromApi } = await axios.get<Patient>(\r\n            `${apiBaseUrl}/patients/${id}`\r\n          );\r\n          dispatch(setPatient(patientFromApi));\r\n        } catch (e) {\r\n          console.error(e);\r\n        }\r\n      };\r\n      void fetchPatient();\r\n    }, [dispatch]); \r\n    return (\r\n      <div>\r\n        <Icon loading name='spinner' size='big' />\r\n      </div>\r\n    );\r\n  }\r\n   \r\n  return (\r\n    <div>\r\n      <h2>\r\n        {patient.name} \r\n        \r\n        {patient.gender === 'male' ? <Icon name='mars' /> : null}\r\n        {patient.gender === 'female' ? <Icon name='venus' /> : null}\r\n        {patient.gender === 'other' ? <Icon name='transgender alternate' /> : null}\r\n      </h2>\r\n      \r\n      <p>\r\n        ssn: {patient.ssn}\r\n      </p>\r\n      <p>\r\n        occupation: {patient.occupation}\r\n      </p>\r\n      {patient.entries.length > 0\r\n        ? <>\r\n            <h4>entries</h4>\r\n            {patient.entries.map(entry =>\r\n              <EntryDetails key={entry.id} entry={entry} />\r\n            )}\r\n          </>\r\n        : null\r\n      }\r\n      <AddPatientModal\r\n        modalOpen={modalOpen}\r\n        onSubmit={submitNewPatient}\r\n        error={error}\r\n        onClose={closeModal}\r\n      />\r\n      <Button onClick={() => openModal()}>Add New Patient</Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PatientListing;"]},"metadata":{},"sourceType":"module"}