{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\OlmoLecht\\\\Documents\\\\FullStackWebDev\\\\part9\\\\patientor\\\\src\\\\components\\\\EntryDetails.tsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React from \"react\";\nimport { Icon } from \"semantic-ui-react\";\nimport { apiBaseUrl } from \"../constants\";\nimport { setDiagnosisList, useStateValue } from \"../state\";\nimport { EntryBase } from \"./Entries\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst heart = rating => {\n  switch (rating) {\n    case 0:\n      return /*#__PURE__*/_jsxDEV(Icon, {\n        name: \"heart\",\n        color: \"green\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 9\n      }, this);\n\n    case 1:\n      return /*#__PURE__*/_jsxDEV(Icon, {\n        name: \"heart\",\n        color: \"yellow\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 9\n      }, this);\n\n    case 2:\n      return /*#__PURE__*/_jsxDEV(Icon, {\n        name: \"heart\",\n        color: \"red\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }, this);\n\n    case 3:\n      return /*#__PURE__*/_jsxDEV(Icon, {\n        name: \"heart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 9\n      }, this);\n\n    default:\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \" error \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this);\n  }\n};\n\nconst EntryDetails = ({\n  entry\n}) => {\n  _s();\n\n  const [{\n    diagnoses\n  }, dispatch] = useStateValue();\n\n  if (diagnoses.length === 0) {\n    console.log('fetching diagnoses');\n    React.useEffect(() => {\n      const fetchDiagnosisCodes = async () => {\n        try {\n          const {\n            data: diagnosesFromApi\n          } = await axios.get(`${apiBaseUrl}/diagnoses`);\n          dispatch(setDiagnosisList(diagnosesFromApi));\n        } catch (e) {\n          console.error(e);\n        }\n      };\n\n      void fetchDiagnosisCodes();\n    }, [dispatch]);\n  }\n\n  switch (entry.type) {\n    case 'Hospital':\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(EntryBase, {\n          entry: entry,\n          diagnoses: diagnoses\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this);\n\n    case 'HealthCheck':\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(EntryBase, {\n          entry: entry,\n          diagnoses: diagnoses\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), heart(entry.healthCheckRating)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this);\n\n    case 'OccupationalHealthcare':\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: entry.type\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this);\n\n    default:\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this);\n  }\n};\n\n_s(EntryDetails, \"eiltHEVt6J2BcpPIQxSwIzZmzas=\", false, function () {\n  return [useStateValue];\n});\n\n_c = EntryDetails;\nexport default EntryDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"EntryDetails\");","map":{"version":3,"sources":["C:/Users/OlmoLecht/Documents/FullStackWebDev/part9/patientor/src/components/EntryDetails.tsx"],"names":["axios","React","Icon","apiBaseUrl","setDiagnosisList","useStateValue","EntryBase","heart","rating","EntryDetails","entry","diagnoses","dispatch","length","console","log","useEffect","fetchDiagnosisCodes","data","diagnosesFromApi","get","e","error","type","healthCheckRating"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,mBAArB;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,gBAAT,EAA2BC,aAA3B,QAAgD,UAAhD;AAGA,SAASC,SAAT,QAA0B,WAA1B;;;AAEA,MAAMC,KAAK,GAAIC,MAAD,IAAiC;AAC7C,UAAQA,MAAR;AACE,SAAK,CAAL;AACE,0BACE,QAAC,IAAD;AAAM,QAAA,IAAI,EAAC,OAAX;AAAmB,QAAA,KAAK,EAAC;AAAzB;AAAA;AAAA;AAAA;AAAA,cADF;;AAGF,SAAK,CAAL;AACE,0BACE,QAAC,IAAD;AAAM,QAAA,IAAI,EAAC,OAAX;AAAmB,QAAA,KAAK,EAAC;AAAzB;AAAA;AAAA;AAAA;AAAA,cADF;;AAGF,SAAK,CAAL;AACE,0BACE,QAAC,IAAD;AAAM,QAAA,IAAI,EAAC,OAAX;AAAmB,QAAA,KAAK,EAAC;AAAzB;AAAA;AAAA;AAAA;AAAA,cADF;;AAGF,SAAK,CAAL;AACE,0BACE,QAAC,IAAD;AAAM,QAAA,IAAI,EAAC;AAAX;AAAA;AAAA;AAAA;AAAA,cADF;;AAGF;AACE,0BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF;AAlBJ;AAsBD,CAvBD;;AAyBA,MAAMC,YAAY,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAA+C;AAAA;;AAClE,QAAM,CAAC;AAAEC,IAAAA;AAAF,GAAD,EAAgBC,QAAhB,IAA4BP,aAAa,EAA/C;;AAEA,MAAIM,SAAS,CAACE,MAAV,KAAqB,CAAzB,EAA4B;AAC1BC,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACAd,IAAAA,KAAK,CAACe,SAAN,CAAgB,MAAM;AACpB,YAAMC,mBAAmB,GAAG,YAAY;AACtC,YAAI;AACF,gBAAM;AAAEC,YAAAA,IAAI,EAAEC;AAAR,cAA6B,MAAMnB,KAAK,CAACoB,GAAN,CACtC,GAAEjB,UAAW,YADyB,CAAzC;AAIAS,UAAAA,QAAQ,CAACR,gBAAgB,CAACe,gBAAD,CAAjB,CAAR;AACD,SAND,CAME,OAAOE,CAAP,EAAU;AACVP,UAAAA,OAAO,CAACQ,KAAR,CAAcD,CAAd;AACD;AACF,OAVD;;AAWA,WAAKJ,mBAAmB,EAAxB;AACD,KAbD,EAaG,CAACL,QAAD,CAbH;AAcD;;AACD,UAAOF,KAAK,CAACa,IAAb;AACE,SAAK,UAAL;AACE,0BACE;AAAA,+BACE,QAAC,SAAD;AAAW,UAAA,KAAK,EAAEb,KAAlB;AAAyB,UAAA,SAAS,EAAEC;AAApC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF;;AAKF,SAAK,aAAL;AACE,0BACE;AAAA,gCACE,QAAC,SAAD;AAAW,UAAA,KAAK,EAAED,KAAlB;AAAyB,UAAA,SAAS,EAAEC;AAApC;AAAA;AAAA;AAAA;AAAA,gBADF,EAEGJ,KAAK,CAACG,KAAK,CAACc,iBAAP,CAFR;AAAA;AAAA;AAAA;AAAA;AAAA,cADF;;AAMF,SAAK,wBAAL;AACE,0BACE;AAAA,kBACGd,KAAK,CAACa;AADT;AAAA;AAAA;AAAA;AAAA,cADF;;AAKF;AACE,0BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF;AArBJ;AA2BD,CA/CD;;GAAMd,Y;UAC8BJ,a;;;KAD9BI,Y;AAiDN,eAAeA,YAAf","sourcesContent":["import axios from \"axios\";\r\nimport React from \"react\";\r\nimport { Icon } from \"semantic-ui-react\";\r\nimport { apiBaseUrl } from \"../constants\";\r\nimport { setDiagnosisList, useStateValue } from \"../state\";\r\nimport { Diagnosis, Entry } from \"../types\";\r\n\r\nimport { EntryBase } from \"./Entries\";\r\n\r\nconst heart = (rating: number): JSX.Element => {\r\n  switch (rating) {\r\n    case 0:\r\n      return (\r\n        <Icon name='heart' color=\"green\" />\r\n      );\r\n    case 1:\r\n      return (\r\n        <Icon name='heart' color=\"yellow\" />\r\n      );\r\n    case 2:\r\n      return (\r\n        <Icon name='heart' color=\"red\" />\r\n      );\r\n    case 3:\r\n      return (\r\n        <Icon name='heart'/>\r\n      );\r\n    default:\r\n      return (\r\n        <p> error </p>\r\n      );\r\n  }\r\n};\r\n\r\nconst EntryDetails = ({ entry } : { entry: Entry }): JSX.Element => {\r\n  const [{ diagnoses }, dispatch] = useStateValue();\r\n  \r\n  if (diagnoses.length === 0) {\r\n    console.log('fetching diagnoses');\r\n    React.useEffect(() => {\r\n      const fetchDiagnosisCodes = async () => {\r\n        try {\r\n          const { data: diagnosesFromApi } = await axios.get<Diagnosis[]>(\r\n            `${apiBaseUrl}/diagnoses`\r\n          );\r\n  \r\n          dispatch(setDiagnosisList(diagnosesFromApi));\r\n        } catch (e) {\r\n          console.error(e);\r\n        }\r\n      };\r\n      void fetchDiagnosisCodes();\r\n    }, [dispatch]);\r\n  }\r\n  switch(entry.type){\r\n    case 'Hospital':\r\n      return (\r\n        <div>\r\n          <EntryBase entry={entry} diagnoses={diagnoses} />\r\n        </div>\r\n      );\r\n    case 'HealthCheck':\r\n      return (\r\n        <div>\r\n          <EntryBase entry={entry} diagnoses={diagnoses}/>\r\n          {heart(entry.healthCheckRating)}\r\n        </div>\r\n      );\r\n    case 'OccupationalHealthcare':\r\n      return (\r\n        <div>\r\n          {entry.type}\r\n        </div>\r\n      );\r\n    default:\r\n      return (\r\n        <div>\r\n          Error\r\n        </div>\r\n      );\r\n  }\r\n};\r\n\r\nexport default EntryDetails;"]},"metadata":{},"sourceType":"module"}