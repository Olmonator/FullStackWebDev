{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\OlmoLecht\\\\Documents\\\\FullStackWebDev\\\\part9\\\\patientor\\\\src\\\\components\\\\EntryDetails.tsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React from \"react\";\nimport { apiBaseUrl } from \"../constants\";\nimport { setDiagnosisList, useStateValue } from \"../state\";\nimport { HealthCheckEntry } from \"./Entries\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EntryDetails = ({\n  entry\n}) => {\n  _s();\n\n  const [{\n    diagnoses\n  }, dispatch] = useStateValue();\n\n  if (diagnoses.length === 0) {\n    console.log('fetching diagnoses');\n    React.useEffect(() => {\n      const fetchDiagnosisCodes = async () => {\n        try {\n          const {\n            data: diagnosesFromApi\n          } = await axios.get(`${apiBaseUrl}/diagnoses`);\n          dispatch(setDiagnosisList(diagnosesFromApi));\n        } catch (e) {\n          console.error(e);\n        }\n      };\n\n      void fetchDiagnosisCodes();\n    }, [dispatch]);\n  }\n\n  switch (entry.type) {\n    case 'Hospital':\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: entry.type\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this);\n\n    case 'HealthCheck':\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(HealthCheckEntry, {\n          entry: entry,\n          diagnoses: diagnoses\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this);\n\n    case 'OccupationalHealthcare':\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: entry.type\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this);\n\n    default:\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this);\n  }\n};\n\n_s(EntryDetails, \"eiltHEVt6J2BcpPIQxSwIzZmzas=\", false, function () {\n  return [useStateValue];\n});\n\n_c = EntryDetails;\nexport default EntryDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"EntryDetails\");","map":{"version":3,"sources":["C:/Users/OlmoLecht/Documents/FullStackWebDev/part9/patientor/src/components/EntryDetails.tsx"],"names":["axios","React","apiBaseUrl","setDiagnosisList","useStateValue","HealthCheckEntry","EntryDetails","entry","diagnoses","dispatch","length","console","log","useEffect","fetchDiagnosisCodes","data","diagnosesFromApi","get","e","error","type"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,gBAAT,EAA2BC,aAA3B,QAAgD,UAAhD;AAGA,SAASC,gBAAT,QAAiC,WAAjC;;;AAEA,MAAMC,YAAY,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAA+C;AAAA;;AAClE,QAAM,CAAC;AAAEC,IAAAA;AAAF,GAAD,EAAgBC,QAAhB,IAA4BL,aAAa,EAA/C;;AAEA,MAAII,SAAS,CAACE,MAAV,KAAqB,CAAzB,EAA4B;AAC1BC,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACAX,IAAAA,KAAK,CAACY,SAAN,CAAgB,MAAM;AACpB,YAAMC,mBAAmB,GAAG,YAAY;AACtC,YAAI;AACF,gBAAM;AAAEC,YAAAA,IAAI,EAAEC;AAAR,cAA6B,MAAMhB,KAAK,CAACiB,GAAN,CACtC,GAAEf,UAAW,YADyB,CAAzC;AAIAO,UAAAA,QAAQ,CAACN,gBAAgB,CAACa,gBAAD,CAAjB,CAAR;AACD,SAND,CAME,OAAOE,CAAP,EAAU;AACVP,UAAAA,OAAO,CAACQ,KAAR,CAAcD,CAAd;AACD;AACF,OAVD;;AAWA,WAAKJ,mBAAmB,EAAxB;AACD,KAbD,EAaG,CAACL,QAAD,CAbH;AAcD;;AACD,UAAOF,KAAK,CAACa,IAAb;AACE,SAAK,UAAL;AACE,0BACE;AAAA,kBACGb,KAAK,CAACa;AADT;AAAA;AAAA;AAAA;AAAA,cADF;;AAKF,SAAK,aAAL;AACE,0BACE;AAAA,+BACE,QAAC,gBAAD;AAAkB,UAAA,KAAK,EAAEb,KAAzB;AAAgC,UAAA,SAAS,EAAEC;AAA3C;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF;;AAKF,SAAK,wBAAL;AACE,0BACE;AAAA,kBACGD,KAAK,CAACa;AADT;AAAA;AAAA;AAAA;AAAA,cADF;;AAKF;AACE,0BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF;AApBJ;AA0BD,CA9CD;;GAAMd,Y;UAC8BF,a;;;KAD9BE,Y;AAgDN,eAAeA,YAAf","sourcesContent":["import axios from \"axios\";\r\nimport React from \"react\";\r\nimport { apiBaseUrl } from \"../constants\";\r\nimport { setDiagnosisList, useStateValue } from \"../state\";\r\nimport { Diagnosis, Entry } from \"../types\";\r\n\r\nimport { HealthCheckEntry } from \"./Entries\";\r\n\r\nconst EntryDetails = ({ entry } : { entry: Entry }): JSX.Element => {\r\n  const [{ diagnoses }, dispatch] = useStateValue();\r\n  \r\n  if (diagnoses.length === 0) {\r\n    console.log('fetching diagnoses');\r\n    React.useEffect(() => {\r\n      const fetchDiagnosisCodes = async () => {\r\n        try {\r\n          const { data: diagnosesFromApi } = await axios.get<Diagnosis[]>(\r\n            `${apiBaseUrl}/diagnoses`\r\n          );\r\n  \r\n          dispatch(setDiagnosisList(diagnosesFromApi));\r\n        } catch (e) {\r\n          console.error(e);\r\n        }\r\n      };\r\n      void fetchDiagnosisCodes();\r\n    }, [dispatch]);\r\n  }\r\n  switch(entry.type){\r\n    case 'Hospital':\r\n      return (\r\n        <div>\r\n          {entry.type}\r\n        </div>\r\n      );\r\n    case 'HealthCheck':\r\n      return (\r\n        <div>\r\n          <HealthCheckEntry entry={entry} diagnoses={diagnoses}/>\r\n        </div>\r\n      );\r\n    case 'OccupationalHealthcare':\r\n      return (\r\n        <div>\r\n          {entry.type}\r\n        </div>\r\n      );\r\n    default:\r\n      return (\r\n        <div>\r\n          Error\r\n        </div>\r\n      );\r\n  }\r\n};\r\n\r\nexport default EntryDetails;"]},"metadata":{},"sourceType":"module"}